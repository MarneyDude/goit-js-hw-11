{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function imagesRequest(value) {\n  return axios.get('https://pixabay.com/api/', {\n    params: {\n      key: '49255995-7f6d469d944259310339ef533',\n      q: value,\n      image_type: 'photo',\n      per_page: 200,\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n}\n","import { imagesRequest } from './pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery__container a');\n\nexport const renderGallery = (event) => {\n  event.preventDefault();\n\n  const form = new FormData(event.target);\n\n  const inputValue = form.get('input');\n\n  const loader = document.querySelector('.loader');\n\n  loader.classList.remove('loader-hidden');\n\n  imagesRequest(inputValue)\n    .then((response) => {\n      const gallery = document.querySelector('.js-gallery');\n      const dataImage = response.data.hits;\n      renderImages(dataImage, gallery);\n    })\n    .catch((error) => {\n      loader.classList.remove('loader-hidden');\n      console.error('Error fetching data:', error);\n    })\n    .finally(() => {\n      loader.classList.add('loader-hidden');\n    });\n\n  event.target.reset();\n};\n\nfunction getMessage() {\n  iziToast.show({\n    title: 'Sorry,',\n    titleSize: '21',\n    message:\n      'there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    iconUrl: 'https://www.svgrepo.com/show/340010/cloud-data-ops.svg',\n    iconColor: '#ffffff',\n    messageSize: '21',\n    messageColor: 'black',\n  });\n}\n\nfunction renderImages(dataImage, gallery) {\n  if (dataImage.length === 0) {\n    getMessage();\n  }\n\n  gallery.innerHTML = '';\n  const markup = dataImage\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class='gallery__item'>\n              <div class='gallery__container '>\n                <a href='${largeImageURL}'>\n                 \n                    <span class=' loader-position loader '></span>\n                    <img\n                      class='gallery__image'\n                      src='${webformatURL}'\n                      alt='${tags}'\n                      onload=\"this.previousElementSibling.style.visibility = 'hidden';\" \n                      onerror=\"this.previousElementSibling.visibility = 'hidden';\" \n                    />\n                 \n                </a>\n\n                <ul class='gallery_user-stats'>\n                  <li class='gallery__user-stats-item'>\n                    <p class='gallery__user-stats-text'>\n                      Likes:<span>${likes}</span>\n                    </p>\n                  </li>\n                  <li class='gallery__user-stats-item'>\n                    <p class='gallery__user-stats-text'>\n                      Views:<span>${views}</span>\n                    </p>\n                  </li>\n                  <li class='gallery__user-stats-item'>\n                    <p class='gallery__user-stats-text'>\n                      Comments:<span>${comments}</span>\n                    </p>\n                  </li>\n                  <li class='gallery__user-stats-item'>\n                    <p class='gallery__user-stats-text'>\n                      Downloads:<span>${downloads}</span>\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </li>`;\n      },\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n\n  lightbox.refresh();\n}\n","import { renderGallery } from './js/render-functions.js';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', renderGallery);\n"],"names":["imagesRequest","value","axios","lightbox","SimpleLightbox","renderGallery","event","inputValue","loader","response","gallery","dataImage","renderImages","error","getMessage","iziToast","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl"],"mappings":"owBAEO,SAASA,EAAcC,EAAO,CACnC,OAAOC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,SAAU,IACV,YAAa,aACb,WAAY,EACb,CACL,CAAG,CACH,CCPA,MAAME,EAAW,IAAIC,EAAe,uBAAuB,EAE9CC,EAAiBC,GAAU,CACtCA,EAAM,eAAc,EAIpB,MAAMC,EAFO,IAAI,SAASD,EAAM,MAAM,EAEd,IAAI,OAAO,EAE7BE,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,UAAU,OAAO,eAAe,EAEvCR,EAAcO,CAAU,EACrB,KAAME,GAAa,CAClB,MAAMC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAYF,EAAS,KAAK,KAChCG,EAAaD,EAAWD,CAAO,CACrC,CAAK,EACA,MAAOG,GAAU,CAChBL,EAAO,UAAU,OAAO,eAAe,EACvC,QAAQ,MAAM,uBAAwBK,CAAK,CACjD,CAAK,EACA,QAAQ,IAAM,CACbL,EAAO,UAAU,IAAI,eAAe,CAC1C,CAAK,EAEHF,EAAM,OAAO,OACf,EAEA,SAASQ,GAAa,CACpBC,EAAS,KAAK,CACZ,MAAO,SACP,UAAW,KACX,QACE,oEACF,SAAU,WACV,QAAS,yDACT,UAAW,UACX,YAAa,KACb,aAAc,OAClB,CAAG,CACH,CAEA,SAASH,EAAaD,EAAWD,EAAS,CACpCC,EAAU,SAAW,GACvBG,IAGFJ,EAAQ,UAAY,GACpB,MAAMM,EAASL,EACZ,IACC,CAAC,CACC,aAAAM,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,2BAEYL,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKXD,CAAY;AAAA,6BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAUGC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKFC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,kBAO5C,EACA,KAAK,EAAE,EAEVb,EAAQ,UAAYM,EAEpBb,EAAS,QAAO,CAClB,CC/GA,MAAMqB,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAUnB,CAAa"}